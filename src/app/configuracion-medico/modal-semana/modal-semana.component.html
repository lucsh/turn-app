<!-- Modal Formulario Configuracion Semana -->
<!-- tabindex="-1" seria para que cierre con escape  -->
<div class="modal fade" id="formConfigSemana" tabindex="-1" #formConfigSemana  role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" >
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" #closeFormConfigSemana (click)='cancelar()' >&times;</button>
        <h3 class="modal-title" id="myModalLabel">Configuración Semana</h3>

      </div>

      <!-- <div class="modal-body" > -->
      <div class="modal-body">
        <!-- ACA VA LA POSTA -->

        <div class="row">
          <div class="col-lg-12">
            <div>
              <!-- <div class="ibox-title">
                <h5>Configuración de Semana</h5>

              </div> -->
              <div>
                <table class="table table-hover no-margins">
                  <thead>
                  <tr>
                    <th>Dias del intervalo</th>
                    <th>Hora Inicial del intervalo</th>
                    <th>Hora Final del intervalo</th>
                    <th><button (click)="agregarIntervalo()" class="btn btn-xs btn-primary pull-right" ><i class="fa fa-plus"></i></button></th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr *ngFor="let intervalo of intervalos; let intervaloIndex = index; trackBy: trackByIndex">
                    <td>
                      <table>
                        <thead>
                          <tr>
                            <th>L</th>
                            <th>M</th>
                            <th>M</th>
                            <th>J</th>
                            <th>V</th>
                            <th>S</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td>
                              <div class="checkbox">
                                <label><input #diaLunes (click)="actualizarDiaIntervalo(intervalo,1)" type="checkbox" value=""></label>
                              </div>
                            </td>
                            <td>
                              <div class="checkbox">
                                <label><input #diaMartes (click)="actualizarDiaIntervalo(intervalo,2)" type="checkbox" value=""></label>
                              </div>
                            </td>
                            <td>
                              <div class="checkbox">
                                <label><input #diaMiercoles (click)="actualizarDiaIntervalo(intervalo,3)" type="checkbox" value=""></label>
                              </div>
                            </td>
                            <td>
                              <div class="checkbox">
                                <label><input #diaJueves (click)="actualizarDiaIntervalo(intervalo,4)" type="checkbox" value=""></label>
                              </div>
                            </td>
                            <td>
                              <div class="checkbox">
                                <label><input #diaViernes (click)="actualizarDiaIntervalo(intervalo,5)" type="checkbox" value=""></label>
                              </div>
                            </td>
                            <td>
                              <div class="checkbox">
                                <label><input #diaSabado (click)="actualizarDiaIntervalo(intervalo,6)" type="checkbox" value=""></label>
                              </div>
                            </td>
                          </tr>

                        </tbody>
                      </table>
                    </td>
                    <style media="screen">
                      .auxiliar{
                        margin-top: 12%;
                      }
                      .auxiliar2{
                        margin-top: 85%;
                      }
                    </style>
                    <td>
                      <!--  TIME PICKER -->
                      <input class='auxiliar' type="text" [(ngModel)]="intervalos[intervaloIndex].horaInicial" id="">
                    </td>
                    <td>
                      <!-- TIME PICKER -->
                      <input class='auxiliar' type="text" [(ngModel)]="intervalos[intervaloIndex].horaFin" id="">
                    </td>
                    <td>
                      <!-- VACIOOOO  -->
                      <!-- AGREGAR X ROJA PARA ELIMINAR EL INTERVALO -->
                      <button (click)="eliminarIntervalo(intervaloIndex)" class="auxiliar2 btn btn-xs btn-danger pull-right " ><i class="fa fa-minus"></i></button>
                    </td>


                    <!-- <td>

                      <button (click)="abrirModal(medico)" class="btn btn-success">Actualizar Datos Basicos</button>
                      <button (click)="configurarSemana(medico)" class="btn btn-primary">Configurar Semana</button>
                    </td> -->
                  </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <br>
        <br>

        <div class="row">
          <div class="col-lg-12">
            <div>
              <h4>Turnos por obra social <button (click)="agregarObra()" class="btn btn-xs btn-primary pull-right" ><i class="fa fa-plus"></i></button></h4>

            </div>
            <hr>
            <br>
            <div *ngFor="let parObra of turnosPorObra; let parObraIndex = index; trackBy: trackByIndex">
              <!-- Selector de obra -->
              <div>
                <style>
                  #cant{
                    display: inline;
                    min-width: 30%;
                  }

                  #divSelector{
                    float: left;
                    margin-right: 1%;
                    min-width: 50%;
                  }
                </style>
                <div id="divSelector" class="">
                  <ng-select #selector  *ngIf = 'actualizado == true'
                  [allowClear]="true"
                  [items]="obrasSelector"
                  [disabled]="disabled"
                  (data)="refreshValue($event)"
                  (selected)="selected($event,parObraIndex)"
                  (removed)="removed($event)"
                  (typed)="typed($event)"
                  placeholder="buscar">
                  </ng-select>
                </div>
                <!-- input de cantidad -->
                <input id="cant" type="number" [(ngModel)]="turnosPorObra[parObraIndex].cantDisponible">
                <button (click)="eliminarSelectorObra(parObraIndex)" class="btn btn-xs btn-danger pull-right " ><i class="fa fa-minus"></i></button>
              </div>


              <br>
              <br>
            </div>

          </div>
        </div>
      </div>

      <div class="modal-footer">

        <button class="btn btn-danger" (click)='cancelar()'>
          Cancelar
        </button>

        <button class="btn btn-primary" (click)='guardarIntervalos()'>
          Guardar Configuración
        </button>

      </div>
    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->

</div>
<!-- /.modal -->
